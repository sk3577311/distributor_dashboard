{% extends 'base.html'%} {% block content %}
<!-- Table for displaying transaction data -->

<div class="container-fluid">
  <input
    class="form-control"
    style="width: 500px; margin: 10px"
    id="myInput"
    type="text"
    placeholder="Search you products..."
  />
  <table id="mytable" class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Transaction ID</th>
        <th>Date</th>
        <th>Category</th>
        <th>Customer Id</th>
        <th>Customer Name</th>
        <th>Product Id</th>
        <th>Product Name</th>
        <th>Merchant Id</th>
        <th>Merchant Name</th>
        <th>Commission</th>
      </tr>
    </thead>
    <tbody>
      {% for transaction in transactions %}
      <tr>
        <td>{{ transaction.transaction_id }}</td>
        <td>{{ transaction.date }}</td>
        <td>{{ transaction.product.category}}</td>
        <td>{{ transaction.customer.customer_id }}</td>
        <td>{{ transaction.customer.customer_name }}</td>
        <td>{{ transaction.product.product_id}}</td>
        <td>{{ transaction.product.product_name}}</td>
        <td>{{ transaction.merchant.merchant_id }}</td>
        <td>{{ transaction.merchant.merchant_name }}</td>
        <td>{{ transaction.commission.commission_percentage }}%</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script>
  $(document).ready(function () {
    $("#myInput").on("keyup", function () {
      var value = $(this).val().toLowerCase();
      $("#mytable tr").filter(function () {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      });
    });
  });
</script>
{%endblock%}
